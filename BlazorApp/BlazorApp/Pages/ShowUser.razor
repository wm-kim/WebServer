@using BlazorApp.Data;

<p>
	Users : <b>@Users.Count</b>
</p>

<br />

<ul class="list-group">
	@foreach(UserData user in Users)
	{
		<li @key="user" class="list-group-item">
			<button type="button" class="btn btn-link" @onclick="(() => KickUser(user))">[Kick]</button>
			<label>@user.Name</label>
		</li>
	}
</ul>

@code {
	[Parameter] // 외부에서 받겠다라는 뜻
	public List<UserData> Users { get; set; }

	[Parameter]
	public Action CallbackTest { get; set; }

	// unity OnStart 같은것 규약되어있음
	protected override void OnInitialized()
	{
		Users.Add(new UserData() { Name = "Rookis" });
		Users.Add(new UserData() { Name = "Faker" });
		Users.Add(new UserData() { Name = "Deft" });
	}

	public void AddUser(UserData user)
	{
		Users.Add(user);
	}

	public void KickUser(UserData user)
	{
		Users.Remove(user);
		CallbackTest.Invoke();
	}

	// 부모가 가지고 있는 함수를 호출하고 싶다면? [Parameter]를 응용하여 간접적으로 구현가능 delegate, event, Action...
}
